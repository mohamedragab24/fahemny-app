# مشروع فَهِّمْني

---
## **هام جداً: حل مشكلة رفع المشروع على GitHub**

إذا كنت تواجه مشكلة في رفع المشروع على GitHub ويظهر لك خطأ بخصوص "remote name"، فالسبب هو أن مشروعك يتذكر اتصالاً قديمًا بمستودع تم حذفه.

**الحل بسيط جدًا ويتكون من خطوة واحدة:**

عندما تظهر لك النافذة التي تسألك عن `Remote name`:

1.  **لا تكتب `origin`**.
2.  بدلاً من ذلك، **اكتب أي اسم جديد** من اختيارك، مثلاً: `github-repo` أو `my-fahemny-project`.
3.  اضغط `Enter`.

بهذه الطريقة، سيتم إنشاء اتصال جديد بالاسم الجديد وستتمكن من رفع مشروعك بنجاح.

---

"فَهِّمْني" هي منصة تعليمية آمنة تربط بين "المستفهمين" (الطلاب) و"المفهّمين" (المعلمون الخبراء) لجلسات شرح سريعة وفردية عبر الفيديو.

## الميزات الرئيسية

- **نظام متكامل للمستخدمين:** تسجيل الدخول، إنشاء حساب، واختيار الأدوار (مستفهم أو مفهّم).
- **نظام لطلبات الجلسات:** يمكن للمستفهمين نشر طلبات شرح، ويمكن للمفهّمين تصفحها وقبولها.
- **جلسات فيديو مدمجة:** يتم إنشاء رابط جلسة فيديو آمنة باستخدام Jitsi لكل جلسة مقبولة.
- **نظام تقييم:** يمكن للمشاركين تقييم بعضهم البعض بعد انتهاء الجلسة.
- **محفظة مالية:** نظام لمحاكاة إضافة الرصيد، دفع تكاليف الجلسات، وتوزيع الأرباح.
- **نظام إشعارات:** لإبقاء المستخدمين على اطلاع دائم بحالة طلباتهم وجلساتهم.
- **لوحة تحكم للمسؤول:** أدوات لإدارة المستخدمين (الحظر والتفعيل) ومراقبة المعاملات المالية.

## التقنيات المستخدمة

- **Next.js & React:** إطار عمل لبناء واجهات المستخدم الحديثة.
- **TypeScript:** لضمان جودة الكود وتقليل الأخطاء.
- **Tailwind CSS & ShadCN/UI:** لتصميم واجهة مستخدم جميلة ومتجاوبة.
- **Firebase:** كخلفية متكاملة (Backend-as-a-Service) تشمل:
    - **Firestore:** لقاعدة البيانات NoSQL.
    - **Authentication:** لإدارة المستخدمين.
    - **Storage:** لتخزين الملفات مثل صور الملف الشخصي.
- **Genkit:** لإدارة وتشغيل العمليات المتعلقة بالذكاء الاصطناعي (مثل إنشاء توكنات Jitsi).
- **Jitsi:** لخدمة مؤتمرات الفيديو المفتوحة المصدر.

---

## كيفية الإعداد والتشغيل

### 1. المتطلبات الأساسية

- [Node.js](https://nodejs.org/) (يفضل نسخة LTS)
- [Firebase Account](https://firebase.google.com/)

### 2. تثبيت الحزم

بعد استنساخ المشروع، قم بتثبيت جميع الحزم اللازمة باستخدام الأمر التالي:

```bash
npm install
```

### 3. إعداد متغيرات البيئة (مهم جدًا)

لكي تعمل ميزة جلسات الفيديو بشكل صحيح، يجب عليك إعداد بيانات اعتماد Jitsi (8x8 JaaS).

1.  أنشئ حسابًا على [8x8 JaaS](https://jaas.8x8.vc/).
2.  من لوحة التحكم، اذهب إلى قسم API Keys.
3.  انسخ `App ID` وقم بإنشاء `Private Key`.
4.  في جذر المشروع، أنشئ ملفًا جديدًا باسم `.env.local`.
5.  أضف المتغيرات التالية إلى الملف مع استبدال القيم بالبيانات الخاصة بك:

```
JITSI_APP_ID="vpaas-magic-cookie-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx/xxxxxx-SAMPLE_APP"
JITSI_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_CONTENT_HERE\n-----END PRIVATE KEY-----"
```

**ملاحظة:** عند نسخ المفتاح الخاص، تأكد من استبدال فواصل الأسطر بـ `\n` كما هو موضح أعلاه للحفاظ على تنسيقه الصحيح في متغير البيئة.

### 4. تشغيل خادم التطوير

الآن يمكنك تشغيل التطبيق في وضع التطوير:

```bash
npm run dev
```

سيتم تشغيل التطبيق على `http://localhost:9002`.

### 5. نشر المشروع (Deployment)

هذا المشروع مُجهز ليتم نشره بسهولة على **Firebase App Hosting**. هذه هي الطريقة الموصى بها لأنها تضمن توافقًا كاملاً مع جميع خدمات Firebase المستخدمة (قاعدة البيانات، المصادقة، إلخ).

1.  **تثبيت أدوات Firebase:**
    إذا لم تكن مثبتة لديك، قم بتثبيت Firebase CLI على جهازك:
    ```bash
    npm install -g firebase-tools
    ```

2.  **تسجيل الدخول إلى Firebase:**
    ```bash
    firebase login
    ```

3.  **ربط المشروع:**
    اربط مجلد مشروعك بمشروعك على Firebase:
    ```bash
    firebase init
    ```
    - اختر "Use an existing project" وحدد المشروع الذي أنشأته.
    - عند سؤالك عن الميزات، لا تحدد أي شيء لأن المشروع مهيأ بالفعل.
    - وافق على الكتابة فوق ملف `firestore.rules` و `storage.rules` إذا طُلب منك، ولكن احتفظ بملفاتك الأخرى.

4.  **نشر التطبيق:**
    ببساطة قم بتشغيل أمر النشر:
    ```bash
    firebase deploy
    ```

سيقوم هذا الأمر ببناء تطبيق Next.js الخاص بك ونشره على استضافة Firebase، مع ربط جميع الخدمات تلقائيًا.

**هل يمكن رفعه على استضافة أخرى مثل Hostinger؟**

نعم، من الناحية التقنية، يمكنك رفع تطبيق Next.js على أي استضافة تدعم Node.js. **ولكن، بالنسبة لهذا المشروع تحديدًا، سيكون الأمر معقدًا جدًا** ويتطلب خبرة تقنية عالية للأسباب التالية:
- **إعدادات البيئة:** ستحتاج إلى نقل جميع مفاتيح الربط مع Firebase و Jitsi يدويًا إلى Hostinger، وهو أمر معقد وحساس.
- **توافق الخادم:** يجب التأكد من أن بيئة الخادم في Hostinger متوافقة تمامًا مع الطريقة التي تعمل بها وظائف Next.js و Genkit الخلفية.

لذلك، **نوصي بشدة باستخدام Firebase App Hosting** لتجنب أي مشاكل والاستفادة من التكامل السلس للمشروع.
